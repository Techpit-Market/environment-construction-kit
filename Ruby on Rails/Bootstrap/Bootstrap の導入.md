> å‹•ä½œç¢ºèªã®ç®‡æ‰€ã¯ã€ä½œæˆã•ã‚Œã¦ã„ã‚‹æ•™æã«åˆã‚ã›ã¦ä¿®æ­£ã—ã¦ãã ã•ã„


# Bootstrap ã®å°å…¥
ä»Šå›ã®ãƒ‘ãƒ¼ãƒˆã§ã¯Bootstrapã‚’å°å…¥ã—ã¦ã„ãã¾ã™ã€‚

Bootstrapã¯æœ‰åãªWebãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã€CSSã‚’ç´°ã‹ãæŒ‡å®šã›ãšã«ã‚µã‚¤ãƒˆã‚’ã‚ã‚‹ç¨‹åº¦å½¢ã«ã§ãã¾ã™ã€‚ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã«ã‚‚å¯¾å¿œã—ã¦ãã‚Œã‚‹ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚Bootstrapã‚’å°å…¥ã™ã‚‹ã¨Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åŠ¹ç‡ã‚ˆãé–‹ç™ºã§ãã¾ã™ã€‚


## æœ¬ãƒ‘ãƒ¼ãƒˆã®ã‚´ãƒ¼ãƒ«
ä»Šå›ã®ç›®æ¨™ã¯ã€Bootstrapã‚’å°å…¥ã—ã¦ä¸‹è¨˜ã®ç”»åƒã®ã‚ˆã†ã«é’è‰²ã®ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ã¨ã“ã‚ã¾ã§å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚

![image](https://process.fs.teachablecdn.com/ADNupMnWyR7kCWRvm76Laz/resize=width:2500/https://www.filepicker.io/api/file/j2Ntm0ovQcK99BjoDgh1)


## ã‚´ãƒ¼ãƒ«ã¾ã§ã®æµã‚Œ
1. Webpackerã¨ã¯
2. Bootstrapã‚’Webpackerã§å°å…¥
3. BootstrapãŒå°å…¥ã•ã‚ŒãŸã‹ç¢ºèª

ãã‚Œã§ã¯ã€å®Ÿéš›ã«jQueryã¨Bootstrapã®å°å…¥ã‚’è¡Œã„ã¾ã—ã‚‡ã†ã€‚


## 1. Webpackerã¨ã¯
ä»Šå›Bootstrapã‚’å°å…¥ã™ã‚‹ã«ã‚ãŸã£ã¦ã€Webpackerã‚’ä½¿ã£ã¦å°å…¥ã—ã¦ã„ãã¾ã™ã€‚

Webpackerã¨ã¯ã€è¤‡æ•°ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ãªã©ã‚’1ã¤ã«ã¾ã¨ã‚ã¦å‡ºåŠ›ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹webpackã‚’ç°¡å˜ã«Railsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«çµ±åˆã§ãã‚‹Gemã§ã™ã€‚

Rails5.1ã‹ã‚‰æ¨™æº–ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

webpackã¨ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ„ãƒ¼ãƒ«ã®ã“ã¨ã§ã€æ˜¨ä»Šã®ãƒ¢ãƒ€ãƒ³ãªJavaScripté–‹ç™ºã§å¿…é ˆã¨ãªã‚Šã¤ã¤ã‚ã‚‹ä»•çµ„ã¿ã§ã™ã€‚

ä»¥ä¸‹ã®ç”»åƒã¯webpackã®å…¬å¼ã‚µã‚¤ãƒˆã®ã‚¤ãƒ¡ãƒ¼ã‚¸å›³ã«ãªã‚Šã¾ã™ã€‚

![image](https://i.gyazo.com/5dd6b69fd05b33f454840f7f2f13993a.png)

å‚è€ƒï¼‰[webpack](https://webpack.js.org/)

â€» æœ¬æ•™æã§ã¯ã€webpackã«ã¤ã„ã¦ã¯è©³ã—ãè§£èª¬ã—ã¦ã„ã¾ã›ã‚“ã€‚è©³ã—ãè§£èª¬ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€webpackã ã‘ã§1ã¤ã®æ•™æãŒã§ãã‚‹ãã‚‰ã„ãƒœãƒªãƒ¥ãƒ¼ãƒ ãŒã‚ã‚‹ãŸã‚ã§ã™ã€‚ãã®ãŸã‚è©³ã—ãå­¦ã³ãŸã„æ–¹ã¯ã”è‡ªèº«ã§èª¿ã¹ã¦ã„ãŸã ã‘ã‚Œã°ã¨æ€ã„ã¾ã™


## 2. Bootstrapã‚’Webpackerã§å°å…¥
Webpakcerã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯ã€ã¾ãš`Gemfile`ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚ãŸã å…ˆã»ã©èª¬æ˜ã—ãŸé€šã‚Šã€Rails5.1ä»¥é™æ¨™æº–ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§GemãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚

ä¸€å¿œGemfileã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```
kanban
â””â”€â”€ Gemfile
```

```Gemfile
gem 'webpacker', '~> 4.0'
```

ãªã®ã§Gemã¯è¿½åŠ ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

Gemfileã«webpackerã¨ã„ã†gemãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã§ããŸã‚‰jQueryã¨Bootstrapã‚’å°å…¥ã—ã¾ã™ã€‚

yarn ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯ã€`yarn add` ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

**ã€ä¾‹ã€‘**

```console
yarn add project-name
```

å‚è€ƒï¼š[yarn add](https://classic.yarnpkg.com/ja/docs/cli/add/)

ãã‚Œã§ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```console
yarn add jquery bootstrap popper.js
```

Bootstrapã§ã¯ã€ã„ãã¤ã‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ jQuery, Popper.js ã¨ã„ã£ãŸ JavaScript ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒå¿…è¦ãªãŸã‚ä¸€ç·’ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªçµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```console
yarn add jquery bootstrap popper.js
yarn add v1.16.0
[1/4] ğŸ”  Resolving packages...
warning popper.js@1.16.1: You can find the new Popper v2 at @popperjs/core, this package is dedicated to the legacy v1
[2/4] ğŸšš  Fetching packages...
[3/4] ğŸ”—  Linking dependencies...
warning " > webpack-dev-server@3.11.0" has unmet peer dependency "webpack@^4.0.0 || ^5.0.0".
warning "webpack-dev-server > webpack-dev-middleware@3.7.2" has unmet peer dependency "webpack@^4.0.0".
[4/4] ğŸ”¨  Building fresh packages...

success Saved lockfile.
success Saved 3 new dependencies.
info Direct dependencies
â”œâ”€ bootstrap@4.5.3
â”œâ”€ jquery@3.5.1
â””â”€ popper.js@1.16.1
info All dependencies
â”œâ”€ bootstrap@4.5.3
â”œâ”€ jquery@3.5.1
â””â”€ popper.js@1.16.1
âœ¨  Done in 5.21s.
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒã†ã¾ãã„ã£ã¦ã„ãŸã‚‰ã€`package.json` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚è¿½åŠ ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã«ã¯å°å…¥ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ãã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

```diff:package.json
{
  "name": "kanban",
  "private": true,
  "dependencies": {
    "@rails/actioncable": "^6.0.0",
    "@rails/activestorage": "^6.0.0",
    "@rails/ujs": "^6.0.0",
    "@rails/webpacker": "4.3.0",
+   "bootstrap": "^4.5.3",
+   "jquery": "^3.5.1",
+   "popper.js": "^1.16.1",
    "turbolinks": "^5.2.0"
  },
  "version": "0.1.0",
  "devDependencies": {
    "webpack-dev-server": "^3.11.0"
  }
}
```

æœ€å¾Œã«å°å…¥ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¨­å®šã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚`config/webpack/environment.js` ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```diff:config/webpack/environment.js
const { environment } = require('@rails/webpacker')

module.exports = environment

+ const webpack = require('webpack')
+ environment.plugins.append(
+   'Provide',
+   new webpack.ProvidePlugin({
+     $: 'jquery',
+     jQuery: 'jquery',
+     Popper: ['popper.js', 'default']
+   })
+ )
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§`import`ã‚„`require`ãªã—ã§`$`ã‚„Bootstrapã®JavaScriptãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚


### Bootstrapã®styleã‚’import
æ¬¡ã«ã€`app/javascript/stylesheets/application.scss`ã«Bootstrapã®styleã‚’importã™ã‚‹è¨˜è¿°ã‚’è¿½è¨˜ã—ã¾ã™ã€‚

ã“ã®`app/javascript/stylesheets`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåŠã³ã€`app/javascript/stylesheets/application.scss`ãƒ•ã‚¡ã‚¤ãƒ«ã¯å­˜åœ¨ã—ãªã„ã®ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ä½œæˆã—ã¾ã™ã€‚

```console
mkdir app/javascript/stylesheets
touch app/javascript/stylesheets/application.scss
```

ä½œæˆã—ãŸã‚‰ã€`application.scss`ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```scss:app/javascript/stylesheets/application.scss
@import '~bootstrap/scss/bootstrap';
```


## application.jsã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ 
yarn ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸBootstrapã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«`import`ã—ã¾ã™ã€‚

æ¬¡ã«`app/javascript/packs/application.js` ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```diff:app/javascript/packs/application.js
+ import 'bootstrap';
+ import '../stylesheets/application';

// This file is automatically compiled by Webpack, along with any other files
// present in this directory. You're encouraged to place your actual application logic in
// a relevant structure within app/javascript and only use these pack files to reference
// that code so it'll be compiled.

require("@rails/ujs").start()
require("turbolinks").start()
require("@rails/activestorage").start()
require("channels")


// Uncomment to copy all static images under ../images to the output folder and reference
// them with the image_pack_tag helper in views (e.g <%= image_pack_tag 'rails.png' %>)
// or the `imagePath` JavaScript helper below.
//
// const images = require.context('../images', true)
// const imagePath = (name) => images(name, true)
```


## ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã« stylesheet_pack_tag ã‚’è¿½åŠ 
æœ€å¾Œã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã« `stylesheet_pack_tag` ã‚’è¿½åŠ ã—ã¾ã™ã€‚`stylesheet_pack_tag` ã‚’ä½¿ã†ã“ã¨ã§Webpackã§`.css`ã‚„`.scss`ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã«ã‚‚å¯¾å¿œã—ã¾ã™ã€‚

`app/views/layouts/application.html.erb` ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```diff:app/views/layouts/application.html.erb
<!DOCTYPE html>
<html>
  <head>
    <title>Kanban</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
+   <%= stylesheet_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <%= yield %>
  </body>
</html>
```

ä»¥ä¸Šã§Bootstrapã®å°å…¥ã¯çµ‚äº†ã§ã™ã€‚


## 3. BootstrapãŒå°å…¥ã•ã‚ŒãŸã‹ç¢ºèª
å®Ÿéš›ã«BootstrapãŒæ©Ÿèƒ½ã™ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚

ä»®ã®ãƒœã‚¿ãƒ³ã«Bootstrapã®ã‚¯ãƒ©ã‚¹ã‚’å½“ã¦ã¾ã™ã€‚

`app/views/top/index.html.erb`ã‚’ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```
app
â””â”€â”€ views
    â””â”€â”€ top
        â””â”€â”€ index.html.erb
```

```erb:app/views/top/index.html.erb
<p>ã“ã®ãƒšãƒ¼ã‚¸ã¯ä»®ã®ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã§ã™ã€‚</p>

<%# ã“ã“ã«è¿½åŠ ã™ã‚‹ %>
<%= link_to "ä»®ã®ãƒœã‚¿ãƒ³ã§ã™", "#", class: "btn btn-primary" %>
```

ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ãŸã‚‰ã€http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚é’è‰²ã®ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°ã†ã¾ãå‹•ä½œã—ã¦ã„ã¾ã™ã€‚

![image](https://process.fs.teachablecdn.com/ADNupMnWyR7kCWRvm76Laz/resize=width:2500/https://www.filepicker.io/api/file/j2Ntm0ovQcK99BjoDgh1)

ä»¥ä¸Šã§ä»Šå›ã®ãƒ‘ãƒ¼ãƒˆã¯çµ‚äº†ã§ã™ã€‚

ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚
